<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Jekyll::GtnFunctions - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-cache">::cache</a>
    
    <li ><a href="#method-i-convert_to_material_list">#convert_to_material_list</a>
    
    <li ><a href="#method-i-convert_workflow_path_to_trs">#convert_workflow_path_to_trs</a>
    
    <li ><a href="#method-i-elixirnode2name">#elixirnode2name</a>
    
    <li ><a href="#method-i-fedi2link">#fedi2link</a>
    
    <li ><a href="#method-i-filter_authors">#filter_authors</a>
    
    <li ><a href="#method-i-fix_box_titles">#fix_box_titles</a>
    
    <li ><a href="#method-i-get_default_link">#get_default_link</a>
    
    <li ><a href="#method-i-gtn_mod_date">#gtn_mod_date</a>
    
    <li ><a href="#method-i-how_many_topic_feedbacks">#how_many_topic_feedbacks</a>
    
    <li ><a href="#method-i-how_many_tutorial_feedbacks">#how_many_tutorial_feedbacks</a>
    
    <li ><a href="#method-i-humanize_types">#humanize_types</a>
    
    <li ><a href="#method-i-last_modified_at">#last_modified_at</a>
    
    <li ><a href="#method-i-load_svg">#load_svg</a>
    
    <li ><a href="#method-i-regex_replace">#regex_replace</a>
    
    <li ><a href="#method-i-regex_replace_once">#regex_replace_once</a>
    
    <li ><a href="#method-i-replace_newline_doublespace">#replace_newline_doublespace</a>
    
    <li ><a href="#method-i-slugify_unsafe">#slugify_unsafe</a>
    
    <li ><a href="#method-i-top_citations">#top_citations</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Jekyll::GtnFunctions">
  <h1 id="module-Jekyll::GtnFunctions" class="module">
    module Jekyll::GtnFunctions
  </h1>

  <section class="description">
    
  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="ELIXIR_NODES">ELIXIR_NODES
        
        <dd>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-cache" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cache</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="cache-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">cache</span>
  <span class="ruby-identifier">@@cache</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Jekyll</span><span class="ruby-operator">::</span><span class="ruby-constant">Cache</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;GtnFunctions&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-convert_to_material_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">convert_to_material_list</span><span
            class="method-args">(site, materials)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="convert_to_material_list-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 156</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">convert_to_material_list</span>(<span class="ruby-identifier">site</span>, <span class="ruby-identifier">materials</span>)
  <span class="ruby-comment"># [{&quot;name&quot;=&gt;&quot;introduction&quot;, &quot;topic&quot;=&gt;&quot;admin&quot;}]</span>
  <span class="ruby-identifier">materials</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;name&quot;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;topic&quot;</span>)
      <span class="ruby-identifier">found</span> = <span class="ruby-constant">TopicFilter</span>.<span class="ruby-identifier">fetch_tutorial_material</span>(<span class="ruby-identifier">site</span>, <span class="ruby-identifier">m</span>[<span class="ruby-string">&quot;topic&quot;</span>], <span class="ruby-identifier">m</span>[<span class="ruby-string">&quot;name&quot;</span>])
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">found</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-constant">Jekyll</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span>  <span class="ruby-node">&quot;Could not find material #{m[&quot;topic&quot;]}/#{m[&quot;name&quot;]} in the site data&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">found</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;external&quot;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">m</span>[<span class="ruby-string">&#39;external&#39;</span>]
      {
        <span class="ruby-string">&quot;layout&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;tutorial_hands_on&quot;</span>,
        <span class="ruby-string">&quot;name&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-string">&quot;name&quot;</span>],
        <span class="ruby-string">&quot;title&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-string">&quot;name&quot;</span>],
        <span class="ruby-string">&quot;hands_on&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;external&quot;</span>,
        <span class="ruby-string">&quot;hands_on_url&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-string">&quot;link&quot;</span>],
      }
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">Jekyll</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span>  <span class="ruby-node">&quot;[GTN] Unsure how to render #{m}&quot;</span>
    <span class="ruby-keyword">end</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-convert_workflow_path_to_trs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">convert_workflow_path_to_trs</span><span
            class="method-args">(str)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="convert_workflow_path_to_trs-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">convert_workflow_path_to_trs</span>(<span class="ruby-identifier">str</span>)
  <span class="ruby-comment"># Input: topics/metagenomics/tutorials/mothur-miseq-sop-short/workflows/workflow1_quality_control.ga</span>
  <span class="ruby-comment"># Output /api/ga4gh/trs/v2/tools/metagenomics-mothur-miseq-sop-short/versions/workflow1_quality_control</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;GTN_TRS_ERROR_NIL&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">m</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/topics\/(?&lt;topic&gt;.*)\/tutorials\/(?&lt;tutorial&gt;.*)\/workflows\/(?&lt;workflow&gt;.*)\.ga/</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>
    <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;/api/ga4gh/trs/v2/tools/#{m[:topic]}-#{m[:tutorial]}/versions/#{m[:workflow]}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;GTN_TRS_ERROR&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-elixirnode2name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">elixirnode2name</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="elixirnode2name-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">elixirnode2name</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-constant">ELIXIR_NODES</span>[<span class="ruby-identifier">name</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-fedi2link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">fedi2link</span><span
            class="method-args">(fedi_address)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="fedi2link-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 132</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fedi2link</span>(<span class="ruby-identifier">fedi_address</span>)
  <span class="ruby-identifier">fedi_address</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/^(?&lt;user&gt;.*)@(?&lt;host&gt;.*)$/</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;https://#{$~[:host]}/@#{$~[:user]}&quot;</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-filter_authors" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">filter_authors</span><span
            class="method-args">(contributors, contributions)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="filter_authors-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">filter_authors</span>(<span class="ruby-identifier">contributors</span>, <span class="ruby-identifier">contributions</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">contributors</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">contributors</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">contributions</span>[<span class="ruby-string">&quot;authorship&quot;</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-fix_box_titles" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">fix_box_titles</span><span
            class="method-args">(content, lang, key)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="fix_box_titles-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fix_box_titles</span>(<span class="ruby-identifier">content</span>, <span class="ruby-identifier">lang</span>, <span class="ruby-identifier">key</span>)
  <span class="ruby-constant">Gtn</span><span class="ruby-operator">::</span><span class="ruby-constant">Boxify</span>.<span class="ruby-identifier">replace_elements</span>(<span class="ruby-identifier">content</span>, <span class="ruby-identifier">lang</span>, <span class="ruby-identifier">key</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-get_default_link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_default_link</span><span
            class="method-args">(material)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="get_default_link-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_default_link</span>(<span class="ruby-identifier">material</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">material</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;NO LINK&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">material</span>[<span class="ruby-string">&#39;slides&#39;</span>]
    <span class="ruby-identifier">url</span> = <span class="ruby-node">&quot;topics/#{material[&#39;topic_name&#39;]}/tutorials/#{material[&#39;tutorial_name&#39;]}/slides.html&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">material</span>[<span class="ruby-string">&#39;hands_on&#39;</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">material</span>[<span class="ruby-string">&#39;hands_on&#39;</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;external&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">material</span>[<span class="ruby-string">&#39;hands_on&#39;</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;&quot;</span>
      <span class="ruby-identifier">url</span> = <span class="ruby-node">&quot;topics/#{material[&#39;topic_name&#39;]}/tutorials/#{material[&#39;tutorial_name&#39;]}/tutorial.html&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">url</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-gtn_mod_date" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gtn_mod_date</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="gtn_mod_date-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gtn_mod_date</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-comment"># Automatically strips any leading slashes.</span>
  <span class="ruby-constant">Gtn</span><span class="ruby-operator">::</span><span class="ruby-constant">ModificationTimes</span>.<span class="ruby-identifier">obtain_time</span>(<span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/^\//</span>, <span class="ruby-string">&#39;&#39;</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-how_many_topic_feedbacks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">how_many_topic_feedbacks</span><span
            class="method-args">(feedback, name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="how_many_topic_feedbacks-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 112</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">how_many_topic_feedbacks</span>(<span class="ruby-identifier">feedback</span>, <span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">feedback</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-string">&quot;topic&quot;</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>}.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-how_many_tutorial_feedbacks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">how_many_tutorial_feedbacks</span><span
            class="method-args">(feedback, name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="how_many_tutorial_feedbacks-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">how_many_tutorial_feedbacks</span>(<span class="ruby-identifier">feedback</span>, <span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">feedback</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-string">&quot;tutorial&quot;</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>}.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-humanize_types" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">humanize_types</span><span
            class="method-args">(type)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="humanize_types-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">humanize_types</span>(<span class="ruby-identifier">type</span>)
  <span class="ruby-identifier">data</span> = {
    <span class="ruby-string">&quot;seq&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;List of Items&quot;</span>,
    <span class="ruby-string">&quot;str&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;Free Text&quot;</span>,
    <span class="ruby-string">&quot;map&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;A dictionary/map&quot;</span>,
    <span class="ruby-string">&quot;float&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;Decimal Number&quot;</span>,
    <span class="ruby-string">&quot;int&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;Integer Number&quot;</span>,
    <span class="ruby-string">&quot;bool&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&quot;Boolean&quot;</span>
  }
  <span class="ruby-identifier">data</span>[<span class="ruby-identifier">type</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-last_modified_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">last_modified_at</span><span
            class="method-args">(page)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>These two could be unified tbh</p>
          
          

          
          <div class="method-source-code" id="last_modified_at-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">last_modified_at</span>(<span class="ruby-identifier">page</span>)
  <span class="ruby-constant">Gtn</span><span class="ruby-operator">::</span><span class="ruby-constant">ModificationTimes</span>.<span class="ruby-identifier">obtain_time</span>(<span class="ruby-identifier">page</span>[<span class="ruby-string">&#39;path&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-load_svg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_svg</span><span
            class="method-args">(url)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="load_svg-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">load_svg</span>(<span class="ruby-identifier">url</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">url</span>).<span class="ruby-identifier">read</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\R+/</span>, <span class="ruby-string">&#39;&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-regex_replace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">regex_replace</span><span
            class="method-args">(str, regex_search, value_replace)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="regex_replace-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 140</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">regex_replace</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">regex_search</span>, <span class="ruby-identifier">value_replace</span>)
  <span class="ruby-identifier">regex</span> = <span class="ruby-regexp">/#{regex_search}/m</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-identifier">regex</span>, <span class="ruby-identifier">value_replace</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-regex_replace_once" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">regex_replace_once</span><span
            class="method-args">(str, regex_search, value_replace)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method does a single regex replacement</p>

<h1 id="method-i-regex_replace_once-label-Example">Example<span><a href="#method-i-regex_replace_once-label-Example">&para;</a> <a href="#top">&uarr;</a></span></h1>

<pre>{{ content | regex_replace: &#39;&lt;hr&gt;&#39;, &#39;&#39; }}</pre>
          
          

          
          <div class="method-source-code" id="regex_replace_once-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">regex_replace_once</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">regex_search</span>, <span class="ruby-identifier">value_replace</span>)
  <span class="ruby-identifier">regex</span> = <span class="ruby-regexp">/#{regex_search}/m</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-identifier">regex</span>, <span class="ruby-identifier">value_replace</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-replace_newline_doublespace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">replace_newline_doublespace</span><span
            class="method-args">(text)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="replace_newline_doublespace-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">replace_newline_doublespace</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\n/</span>, <span class="ruby-string">&quot;\n  &quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-slugify_unsafe" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">slugify_unsafe</span><span
            class="method-args">(text)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="slugify_unsafe-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">slugify_unsafe</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-comment"># Gets rid of *most* things without making it completely unusable?</span>
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/[&quot;&#39;\\\/-;:,.!@#$%^&amp;*()-]/</span>, <span class="ruby-string">&#39;&#39;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\s/</span>, <span class="ruby-string">&#39;-&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-top_citations" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">top_citations</span><span
            class="method-args">(citations)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="top_citations-source">
            <pre><span class="ruby-comment"># File _plugins/gtn.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">top_citations</span>(<span class="ruby-identifier">citations</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">citations</span>.<span class="ruby-identifier">nil?</span>
    {}
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">citations</span>.<span class="ruby-identifier">sort_by</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>}.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">to_h</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">20</span>).<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> 
      [<span class="ruby-identifier">k</span>, {<span class="ruby-string">&quot;count&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">v</span>, <span class="ruby-string">&quot;text&quot;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-constant">Gtn</span><span class="ruby-operator">::</span><span class="ruby-constant">Scholar</span>.<span class="ruby-identifier">render_citation</span>(<span class="ruby-identifier">k</span>)}]
    }.<span class="ruby-identifier">to_h</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

